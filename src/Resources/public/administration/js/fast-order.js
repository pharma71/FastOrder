(function(){var e={673:function(){},916:function(e,t,r){var n=r(673);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("47848253",n,!0,{})},346:function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},a=0;a<t.length;a++){var s=t[a],o=s[0],i={id:e+":"+a,css:s[1],media:s[2],sourceMap:s[3]};n[o]?n[o].parts.push(i):r.push(n[o]={id:o,parts:[i]})}return r}r.d(t,{Z:function(){return h}});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},o=a&&(document.head||document.getElementsByTagName("head")[0]),i=null,d=0,c=!1,l=function(){},p=null,u="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,r,a){c=r,p=a||{};var o=n(e,t);return m(o),function(t){for(var r=[],a=0;a<o.length;a++){var i=s[o[a].id];i.refs--,r.push(i)}t?m(o=n(e,t)):o=[];for(var a=0;a<r.length;a++){var i=r[a];if(0===i.refs){for(var d=0;d<i.parts.length;d++)i.parts[d]();delete s[i.id]}}}}function m(e){for(var t=0;t<e.length;t++){var r=e[t],n=s[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(g(r.parts[a]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(g(r.parts[a]));s[r.id]={id:r.id,refs:1,parts:o}}}}function v(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function g(e){var t,r,n=document.querySelector("style["+u+'~="'+e.id+'"]');if(n){if(c)return l;n.parentNode.removeChild(n)}if(f){var a=d++;t=b.bind(null,n=i||(i=v()),a,!1),r=b.bind(null,n,a,!0)}else t=w.bind(null,n=v()),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&t(e=n):r()}}var y=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function b(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,a);else{var s=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function w(e,t){var r=t.css,n=t.media,a=t.sourceMap;if(n&&e.setAttribute("media",n),p.ssrId&&e.setAttribute(u,t.id),a&&(r+="\n/*# sourceURL="+a.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,exports:{}};return e[n](s,s.exports,r),s.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="bundles/fastorder/",window?.__sw__?.assetPath&&(r.p=window.__sw__.assetPath+"/bundles/fastorder/"),function(){"use strict";r(916);let{Component:e}=Shopware;e.register("fast-order-index",{template:'<sw-page style="height: 100%; border: 1px solid #D8DDE6;">\r\n\r\n  <template #search-bar>\r\n    <sw-search-bar>\r\n    </sw-search-bar>\r\n  </template>\r\n\r\n  <template #smart-bar-header>\r\n    <h2>Fast Order Admin</h2>\r\n    <p>Manage all fast orders here.</p>\r\n  </template>\r\n\r\n  <template #smart-bar-actions>\r\n    <sw-button v-show="env" variant="primary" @click="loadOrders">\r\n        Load Fast Orders\r\n    </sw-button>\r\n  </template>\r\n\r\n  <template #content>\r\n  {% block fast_order_table %}\r\n    <div class="fast-order-admin">\r\n\r\n      <div v-if="loading" class="loading">Loading...</div>\r\n      \r\n      <table v-if="!loading && orders.length" class="sw-data-grid">\r\n          <thead>\r\n              <tr>\r\n                  <th>Session ID</th>\r\n                  <th>Product</th>\r\n                  <th>Quantity</th>\r\n                  <th>Date</th>\r\n                  <th>Comment</th>\r\n              </tr>\r\n          </thead>\r\n          <tbody>\r\n              <tr v-for="(order, index) in orders" :key="order.id">\r\n                  <td>{{ order.attributes.sessionId }}</td>\r\n                  <td>{{ order.attributes.productNumber }}</td>\r\n                  <td>{{ order.attributes.quantity }}</td>\r\n                  <td>{{ order.attributes.createdAt }}</td>\r\n                  <td>\r\n                    <textarea v-model="order.comment" placeholder="Add a comment..."></textarea>\r\n                  </td>\r\n                  <td>\r\n                      <sw-button variant="primary" @click="saveComment(index)">Save Comment</sw-button>\r\n                  </td>\r\n              </tr>\r\n          </tbody>\r\n      </table>\r\n      \r\n      <div v-if="!loading && !orders.length && env" class="no-orders">\r\n          <p>No fast orders found.</p>\r\n      </div>\r\n      <div v-if="!loading && !orders.length && !env" class="no-orders">\r\n          <p>Please configure your plugin first.</p>\r\n      </div>\r\n    </div>\r\n  {% endblock %}\r\n  </template>\r\n</sw-page>',inject:["systemConfigApiService"],data(){return{loading:!1,orders:[],env:null}},methods:{async loadOrders(){this.loading=!0,this.token=null;try{let e=await fetch("/api/oauth/token",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({grant_type:"client_credentials",client_id:this.env.adminaccesskey,client_secret:this.env.adminaccesssecret})}),t=await e.json();this.token=t.access_token;let r=await fetch("/api/fast-order",{headers:new Headers({Authorization:"Bearer "+this.token,"Content-Type":"application/json"})}),n=await r.json();this.orders=n.data.map(e=>(e.comment=e.attributes?.customFields?.comment?e.attributes?.customFields?.comment:"",e))}catch(e){console.error("Failed to load orders:",e)}finally{this.loading=!1}},async saveComment(e){let t=this.orders[e],r=await fetch(`/api/fast-order/${t.id}`,{method:"PATCH",headers:new Headers({Authorization:"Bearer "+this.token,"Content-Type":"application/json"}),body:JSON.stringify({customFields:{comment:t.comment}})});alert("Comment saved!",r)},async getConfig(){let e=await this.systemConfigApiService.getValues("fastorder.config");Object.keys(e).length&&Object.hasOwn(e,"FastOrder.config.adminaccesskey")&&Object.hasOwn(e,"FastOrder.config.adminaccesssecret")&&(this.env={adminaccesskey:e["FastOrder.config.adminaccesskey"],adminaccesssecret:e["FastOrder.config.adminaccesssecret"]})}},mounted(){this.getConfig()}});let{Module:t}=Shopware;t.register("fast-order-module",{type:"plugin",name:"FastOrderModule",title:"Fast Order",description:"Manage fast orders in the admin area",color:"#ff3d58",icon:"default-shopping-paper-bag",routes:{index:{component:"fast-order-index",path:"index"}},navigation:[{label:"Fast Orders",color:"#ff3d58",path:"fast.order.module.index",icon:"default-shopping-paper-bag",position:100,parent:"sw-content"}]})}()})();